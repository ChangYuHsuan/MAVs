

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head><div class = "head"> </div>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Object-oriented interface reference &mdash; Artelys Knitro 10.3 User&#39;s Manual</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/Artelys_theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Artelys Knitro 10.3 User&#39;s Manual" href="../index.html"/>
        <link rel="up" title="Reference manual" href="../3_referenceManual.html"/>
        <link rel="next" title="Callable library reference" href="callableLibraryReference.html"/>
        <link rel="prev" title="Knitro / R reference" href="knitroRreference.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Artelys Knitro User's Manual
          

          
          </a>

          
            
            
              <div class="version">
                10.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_userGuide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../3_referenceManual.html">Reference manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="knitroamplReference.html">Knitro / AMPL reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="knitromatlabReference.html">Knitro / MATLAB reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="knitroRreference.html">Knitro / R reference</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Object-oriented interface reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-the-object-oriented-interface">What is the object-oriented interface?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-started-with-the-java-object-oriented-interface">Getting started with the Java object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-started-with-the-c-object-oriented-interface">Getting started with the C# object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Getting started with the C++ object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defining-a-problem">Defining a problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-ktrsolver-class-to-solve-a-problem">Using the KTRSolver class to solve a problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-callable-library-functions-from-the-object-oriented-interface">Accessing callable library functions from the object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#callbacks-in-the-object-oriented-interface">Callbacks in the object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-variable-bounds-in-the-object-oriented-interface">Changing variable bounds in the object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-artelys-license-manager-with-the-object-oriented-interface">Using the Artelys License Manager with the object-oriented interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="callableLibraryReference.html">Callable library reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="userOptions.html">Knitro user options</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputFiles.html">List of output files</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Artelys Knitro User's Manual</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../3_referenceManual.html">Reference manual</a> &raquo;</li>
      
    <li>Object-oriented interface reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="object-oriented-interface-reference">
<span id="sec-oointerfacereference"></span><h1>Object-oriented interface reference</h1>
<div class="section" id="what-is-the-object-oriented-interface">
<h2>What is the object-oriented interface?</h2>
<p>The object-oriented interface provides the functionality of the callable library
with an easy-to-use set of classes. The interface is available in C++, C#, and Java.
The problem definition is contained in a class definition and is simpler: variable
and constraint properties can be defined more compactly; memory for the problem
characteristics does not need to be allocated; and Knitro API functions are
simplified with some of the arguments handled internally within the classes.</p>
<p>This guide focuses on the C++ version of the interface.</p>
<p>Simple examples of the object-oriented interface can be found in <a class="reference internal" href="../2_userGuide.html#chap-userguide"><span class="std std-ref">User guide</span></a>.
More complex examples can be found in the examples folder.</p>
</div>
<div class="section" id="getting-started-with-the-java-object-oriented-interface">
<h2>Getting started with the Java object-oriented interface</h2>
<p>Java interfaces are distributed as a JAR with additional packages containing
Javadoc, sources and dependencies.</p>
<p>Java interfaces require using Java 6 or higher and Java Native Access library,
which is also provided.</p>
<p>Import JAR files and dependencies within your project in order to enable
using Knitro with Java interfaces.</p>
<p>Examples can be compiled and run from your favorite IDE or using the provided makefile.</p>
</div>
<div class="section" id="getting-started-with-the-c-object-oriented-interface">
<h2>Getting started with the C# object-oriented interface</h2>
<p>C# interface requires .net 4.0 or higher.</p>
<p>A project is distributed as a Microsoft Visual Studio solution with all the sources and examples.</p>
<p>In order to run, the project only needs to have <code class="docutils literal"><span class="pre">KNITRODIR</span></code> environment variable
set to the Knitro directory.</p>
<p>To modify the example run by Visual Studio, right click on &#8220;KTRC&#8221; project
then select &#8220;Properties&#8221; and modify &#8220;Startup object&#8221; (in Application tab).</p>
</div>
<div class="section" id="id1">
<h2>Getting started with the C++ object-oriented interface</h2>
<p>The C++ object oriented interface is distributed as a header library which
is straightforward to include within your projects.</p>
<p>Examples are provided within a CMake project. Please refer to the README file
in <code class="docutils literal"><span class="pre">examples/C++</span></code> directory for more details.</p>
<p>The following sections and subsequent references to object-oriented interfaces
within the documentation, use C++ interface methods and classes.</p>
</div>
<div class="section" id="defining-a-problem">
<h2>Defining a problem</h2>
<p>This section describes how to define a problem in the object-oriented interface by implementing
the abstract <code class="docutils literal"><span class="pre">KTRProblem</span></code> class. The <code class="docutils literal"><span class="pre">KTRProblem</span></code> class inherits from the <code class="docutils literal"><span class="pre">KTRIProblem</span></code> class
and defines several functions that make implementing the problem easier. Users should consult <code class="docutils literal"><span class="pre">KTRIProblem.h</span></code>
for more information on how to implement the <code class="docutils literal"><span class="pre">KTRIProblem</span></code> class if the <code class="docutils literal"><span class="pre">KTRProblem</span></code> is not used.</p>
<p class="rubric">Minimal required implementation</p>
<p>In order to define an optimization problem, a problem class that inherits from
<code class="docutils literal"><span class="pre">KTRProblem</span></code> must be defined by the user. A class should at least:</p>
<ul class="simple">
<li>pass the number of variables to the <code class="docutils literal"><span class="pre">KTRProblem</span></code> constructor.</li>
<li>pass the number of constraints to the  <code class="docutils literal"><span class="pre">KTRProblem</span></code> constructor.</li>
<li>set variable upper and lower bounds with <code class="docutils literal"><span class="pre">KTRProblem::setVarLoBnds()</span></code> and <code class="docutils literal"><span class="pre">KTRProblem::setVarUpBnds()</span></code></li>
<li>set constraint upper and lower bounds with <code class="docutils literal"><span class="pre">KTRProblem::setConLoBnds()</span></code> and <code class="docutils literal"><span class="pre">KTRProblem::setConUpBnds()</span></code></li>
<li>set constraint types with <code class="docutils literal"><span class="pre">KTRProblem::setConTypes()</span></code></li>
<li>set the objective type with <code class="docutils literal"><span class="pre">KTRProblem::setObjType()</span></code></li>
<li>set the objective goal with <code class="docutils literal"><span class="pre">KTRProblem::setObjGoal()</span></code></li>
</ul>
<p>It should also define evaluation functions; at minimum</p>
<ul class="simple">
<li>define the function <code class="docutils literal"><span class="pre">double</span> <span class="pre">KTRProblem::evaluateFC()</span></code>, evaluating the objective function and constraints, setting the constraint values in the function parameter <code class="docutils literal"><span class="pre">std::vector&lt;double&gt;</span> <span class="pre">c</span></code> and returning the objective function value.</li>
</ul>
<p>If possible, the user should also</p>
<ul class="simple">
<li>pass the number of non-zero elements of the Jacobian to the <code class="docutils literal"><span class="pre">KTRProblem</span></code> constructor</li>
<li>set the Jacobian sparsity pattern with <code class="docutils literal"><span class="pre">KTRProblem::setJacIndexCons()</span></code> and <code class="docutils literal"><span class="pre">KTRProblem::setJacIndexVars()</span></code>.</li>
</ul>
<p>If these are not known, a dense pattern will automatically be set, but a sparsity pattern can help solver performance significantly regardless of whether exact first derivatives are implemented or not.</p>
<p>The functions <code class="docutils literal"><span class="pre">KTRProblem::setXInitial()</span></code> and <code class="docutils literal"><span class="pre">KTRProblem::setLambdaInitial()</span></code> can respectively be used to set values for the initial primal and dual variable values. If these values are not set, Knitro will automatically determine initial values.</p>
<p class="rubric">Implementing a MIP problem</p>
<p>If the problem has integer or binary variables, the following must also be defined:</p>
<ul class="simple">
<li>set variable types with <code class="docutils literal"><span class="pre">KTRProblem::setVarTypes()</span></code></li>
<li>set constraint function types with <code class="docutils literal"><span class="pre">KTRProblem::setConFnTypes()</span></code></li>
<li>set the objective function type with <code class="docutils literal"><span class="pre">KTRProblem::setObjFnType()</span></code></li>
</ul>
<p class="rubric">Implementing derivatives</p>
<p>Like the callable library, the object-oriented interface does not compute derivatives automatically.</p>
<p>To evaluate first derivatives exactly, the problem class should define
<code class="docutils literal"><span class="pre">double</span> <span class="pre">KTRProblem::evaluateGA()</span></code>, evaluating the gradient and Jacobian and setting their values in
the function parameters <code class="docutils literal"><span class="pre">std::vector&lt;double&gt;</span> <span class="pre">objGrad</span></code> and <code class="docutils literal"><span class="pre">std::vector&lt;double&gt;</span> <span class="pre">jac</span></code>. The function
should return 0 to indicate that no error occurred, or KTR_RC_CALLBACK_ERR can be returned; this return
code will stop the Knitro solver.</p>
<p>To evaluate second derivatives exactly, the problem class should:</p>
<ul class="simple">
<li>pass the number of non-zero elements of the Hessian to the <code class="docutils literal"><span class="pre">KTRProblem</span></code> constructor</li>
<li>define the Hessian sparsity pattern with <code class="docutils literal"><span class="pre">KTRProblem::setHessIndexCols()</span></code> and <code class="docutils literal"><span class="pre">KTRProblem::setHessIndexRows()</span></code>.</li>
</ul>
<p>The problem class should define the function <code class="docutils literal"><span class="pre">int</span> <span class="pre">KTRProblem::evaluateHess()</span></code> to set the value of the Hessian in the parameter <code class="docutils literal"><span class="pre">hess</span></code>.
The function should return 0 to indicate that no error or occurred. KTR_RC_CALLBACK_ERR can be returned; this return code will stop the Knitro solver.</p>
<p>To evaluate the Hessian-vector product, the problem class should define the function <code class="docutils literal"><span class="pre">int</span> <span class="pre">KTRProblem::evaluateHessianVector()</span></code> to set
the value of the Hessian-vector product in the parameter <code class="docutils literal"><span class="pre">vector</span></code>. The function should return 0 to indicate that no error occurred, or
KTR_RC_CALLBACK_ERR can be returned; this return code will stop the Knitro solver.</p>
<p class="rubric">Complementarity Constraints</p>
<p>Complementarity constraints can be specified in the object-oriented interface
by passing the lists of complementary variables to the function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">KTRIProblem</span><span class="p">::</span><span class="n">setComplementarity</span><span class="p">(</span><span class="n">const</span> <span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;&amp;</span> <span class="n">indexList1</span><span class="p">,</span>
                          <span class="n">const</span> <span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;&amp;</span> <span class="n">indexList2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-ktrsolver-class-to-solve-a-problem">
<h2>Using the KTRSolver class to solve a problem</h2>
<p>Once a problem is defined by inheriting from <code class="docutils literal"><span class="pre">KTRIProblem</span></code> or <code class="docutils literal"><span class="pre">KTRProblem</span></code>, the <code class="docutils literal"><span class="pre">KTRSolver</span></code> class is used to call Knitro to solve the problem.
This class is also used to set most Knitro parameters, and access solution information after Knitro has completed solving the problem.</p>
<p>To use the <code class="docutils literal"><span class="pre">KTRSolver</span></code> class, one of four constructors can be used. Each of the constructors takes at least a pointer
to a <code class="docutils literal"><span class="pre">KTRIProblem</span></code> object (each <code class="docutils literal"><span class="pre">KTRSolver</span></code> object is associated with one problem definition. If different problems
are to be solved, multiple <code class="docutils literal"><span class="pre">KTRSolver</span></code> objects are needed).</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="k">explicit</span> <span class="nf">KTRSolver</span><span class="p">(</span><span class="n">KTRIProblem</span> <span class="o">*</span> <span class="n">problem</span><span class="p">);</span>
</pre></div>
</div>
<p>This constructor should be used when using exact gradient and Hessian evaluation, which must be defined in the <code class="docutils literal"><span class="pre">KTRIProblem</span></code> object.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">KTRSolver</span><span class="p">(</span><span class="n">KTRIProblem</span> <span class="o">*</span> <span class="n">problem</span><span class="p">,</span> <span class="kt">int</span> <span class="n">gradopt</span><span class="p">,</span> <span class="kt">int</span> <span class="n">hessopt</span><span class="p">);</span>
</pre></div>
</div>
<p>This constructor should be used when specifying a gradient and Hessian evaluation other than the default exact gradient and Hessian evaluations.</p>
<p>For both of these constructors, a pointer to a <code class="docutils literal"><span class="pre">ZLM</span></code> object can also be passed as an additional argument, when using a network license
of Knitro with the Artelys License Manager. Otherwise, a local Knitro license is used.</p>
<p>Once the solver object is created, Knitro options can be set with <code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code>, or by loading a parameters file
with <code class="docutils literal"><span class="pre">KTRSolver::loadParamFile()</span></code>. Finally, the function <code class="docutils literal"><span class="pre">KTRSolver::solve()</span></code> will call Knitro to solve the problem
and will return a solution status code.</p>
<p><code class="docutils literal"><span class="pre">KTRSolver::solve()</span></code> can be called multiple times. Between each call to <code class="docutils literal"><span class="pre">solve()</span></code>, two types of changes can be made:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code> can be used to change problem parameters, except for the gradient and Hessian evaluation types.</li>
<li>Variable bounds can be changed by calling <code class="docutils literal"><span class="pre">KTRIProblem::setVarLoBnds()</span></code> and <code class="docutils literal"><span class="pre">KTRIProblem::setVarUpBnds()</span></code> in the problem object that the solver object points to.</li>
</ul>
</div>
<div class="section" id="accessing-callable-library-functions-from-the-object-oriented-interface">
<h2>Accessing callable library functions from the object-oriented interface</h2>
<p>The object-oriented interface provides access to the Knitro callable library functions.
The table below shows the correspondence between callable library functions and
object-oriented interface functions. Note that in the C# interface, function names are
capitalized keeping with C# convention.</p>
<p>The majority of the functions are accessed directly through <code class="xref c c-type docutils literal"><span class="pre">KTRSolver</span></code> methods,
or in the case of the callback setting functions, <code class="xref c c-type docutils literal"><span class="pre">KTRIProblem</span></code> methods. There
are a few major differences between the callable library functions and the object-oriented
interface methods:</p>
<ul class="simple">
<li>The callable library methods take a <code class="docutils literal"><span class="pre">KTR_context_ptr</span></code> argument (created from a call to <a class="reference internal" href="callableLibrary/API.html#KTR_new" title="KTR_new"><code class="xref c c-func docutils literal"><span class="pre">KTR_new()</span></code></a>), which holds problem information. The object-oriented interface methods do not take this argument, storing the necessary information in the <code class="docutils literal"><span class="pre">KTRSolver</span></code> object.</li>
<li>The callable library methods return status codes, with a non-zero status code usually indicating an error. The object-oriented interface methods (with the exception of <code class="xref c c-func docutils literal"><span class="pre">KTRSolver::solve()</span></code>) do not return status codes. If the methods encounter an error, usually related to an invalid Knitro license or invalid function arguments, a <code class="docutils literal"><span class="pre">KTRException</span></code> is thrown.</li>
<li>Several callable library methods, such as <code class="docutils literal"><span class="pre">KTR_get_constraint_values()</span></code>, modify input parameters. Instead, the object-oriented interface methods return these values as output parameters (rather than returning status codes).</li>
<li>Function arguments use <code class="docutils literal"><span class="pre">std::vector&lt;&gt;</span></code> (C++), <code class="docutils literal"><span class="pre">IList&lt;&gt;</span></code> (Java), or <code class="docutils literal"><span class="pre">List&lt;&gt;</span></code> (C#) instead of C-style (pointer) arrays. Instead of character arrays, functions use <code class="docutils literal"><span class="pre">std::string</span></code> (C++), or <code class="docutils literal"><span class="pre">String</span></code> (Java and C#).</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Callable Library Function</th>
<th class="head">Object-Oriented Interface Methods</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_new()</span></code></td>
<td>Not necessary - problem information stored in KTRSolver object.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_new_puts()</span></code></td>
<td>Not necessary - redirect output by inheriting from KTRPuts class.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_free()</span></code></td>
<td>Not necessary - problem information stored in KTRSolver object.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_reset_params_to_defaults()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::resetParamsToDefaults()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_load_param_file()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::loadParamFile()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_save_param_file()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::saveParamFile()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_int_param_by_name()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_char_param_by_name()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_double_param_by_name()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_int_param()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_char_param()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_double_param()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setParam()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_int_param_by_name()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getIntParam()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_double_param_by_name()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getDoubleParam()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_int_param()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getIntParam()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_double_param()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getDoubleParam()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_param_name()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getParamName()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_param_doc()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getParamDoc()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_param_type()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getParamType()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_num_param_values()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumParamValues()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_param_value_doc()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getParamValueDoc()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_param_id()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getParamID()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_release()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getRelease()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_load_tuner_file()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::loadTunerFile()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_feastols()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setFeastols()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_names()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setNames()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_compcons()</span></code></td>
<td>Not necessary - define complementarity constraints in the
<code class="docutils literal"><span class="pre">KTRIProblem</span></code> class constructor.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_chgvarbnds()</span></code></td>
<td>Not necessary - change variable bounds in a <code class="docutils literal"><span class="pre">KTRIProblem</span></code>
object.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_init_problem()</span></code></td>
<td>Not necessary - problem initialized in KTRSolver constructor.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_solve()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::solve()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_restart()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::restart()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_mip_init_problem()</span></code></td>
<td>Not necessary - problem initialized in KTRSolver constructor.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_mip_set_branching_priorities()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::mipSetBranchingPriorities()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_mip_solve()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::solve()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_findiff_relstepsizes()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setFindiffRelstepsizes()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_func_callback()</span></code></td>
<td>Not necessary - define function evaluation in class that inherits
from <code class="docutils literal"><span class="pre">KTRIProblem()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_grad_callback()</span></code></td>
<td>Not necessary - define gradient evaluation in class that inherits
from <code class="docutils literal"><span class="pre">KTRIProblem()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_hess_callback()</span></code></td>
<td>Not necessary - define Hessian evaluation in class that inherits
from <code class="docutils literal"><span class="pre">KTRIProblem()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_newpt_callback()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRIProblem::setNewPointCallback()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_ms_process_callback()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRIProblem::setMSProcessCallback()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_mip_node_callback()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRIProblem::setMipNodeCallback()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_ms_initpt_callback()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRIProblem::setMSInitptCallback()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_puts_callback()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRIProblem::setPutsCallback()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_number_FC_evals()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumberFCEvals()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_number_GA_evals()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumberGAEvals()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_number_H_evals()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumberHEvals()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_number_HV_evals()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumberHVEvals()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_number_iters()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumberIters()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_number_cg_iters()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getNumberCGIters()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_abs_feas_error()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getAbsFeasError()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_rel_feas_error()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getRelFeasError()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_abs_opt_error()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getAbsOptError()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_rel_opt_error()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getRelOptError()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_solution()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getSolution()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_constraint_values()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getConstraintValues()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_objgrad_values()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getObjgradValues()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_jacobian_values()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getJacobianValues()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_hessian_values()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getHessianValues()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_mip_num_nodes()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipNumNodes()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_mip_num_solves()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipNumSolves()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_mip_abs_gap()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipAbsGap()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_mip_rel_gap()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipRelGap()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_mip_incumbent_obj()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipIncumbentObj()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_mip_relaxation_bnd()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipRelaxationBnd()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_get_mip_lastnode_obj()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipLastnodeObj()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_get_mip_incumbent_x()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getMipIncumbentX()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_var_scaling()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setVarScaling()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_con_scaling()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setConScaling()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_set_obj_scaling()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setObjScaling()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">KTR_set_int_var_strategy()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setIntVarStrategy()</span></code></td>
</tr>
<tr class="row-even"><td>No callable library equivalent</td>
<td><code class="docutils literal"><span class="pre">KTRSolver::setIntegralityRelaxed()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">double</span> <span class="pre">*</span> <span class="pre">obj</span></code> set by <code class="docutils literal"><span class="pre">KTR_solve()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getObj()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">double</span> <span class="pre">*</span> <span class="pre">x</span></code> set by <code class="docutils literal"><span class="pre">KTR_solve()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getXValues()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">double</span> <span class="pre">*</span> <span class="pre">lambda</span></code> set by <code class="docutils literal"><span class="pre">KTR_solve()</span></code></td>
<td><code class="docutils literal"><span class="pre">KTRSolver::getLambdaValues()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">KTR_check_first_ders()</span></code></td>
<td>Deprecated - set derivative check options with
KTRSolver::setParam().</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="callbacks-in-the-object-oriented-interface">
<h2>Callbacks in the object-oriented interface</h2>
<p>The object-oriented interface supports all of the callbacks that are supported by the
callable library: MIP node callbacks; multi-start initial point callbacks; multi-start
process callbacks; new point callbacks, and Knitro output redirection callbacks.</p>
<p>Each of these callbacks can be implemented by extending the appropriate callback class,
and passing the callback object to a KTRProblem object via the function
<code class="docutils literal"><span class="pre">KTRProblem::set{Callbacktype}</span></code> (for some callback type).</p>
<p>The callback functionality is the same as described in the callable library reference section.</p>
<p>Below, we show an example of implementing <code class="docutils literal"><span class="pre">KTRNewptCallback</span></code>. This type of callback is
called by Knitro during the problem iteration whenever Knitro
finds a new estimate of the solution point (i.e., after each major iteration).
This callback cannot modify any of its arguments, but can provide information about
the solve before it is completed. In this example, the callback prints the number of
objective function and constraint evaluations.</p>
<p>The following defines the callback, inheriting from <code class="docutils literal"><span class="pre">KTRNewptCallback</span></code>.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;KTRNewptCallback.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;KTRSolver.h&quot;</span><span class="cp"></span>

<span class="k">class</span> <span class="nc">ExampleNewPointCallback</span> <span class="o">:</span> <span class="k">public</span> <span class="n">knitro</span><span class="o">::</span><span class="n">KTRNewptCallback</span> <span class="p">{</span>
 <span class="k">public</span><span class="o">:</span>

  <span class="kt">int</span> <span class="n">CallbackFunction</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">lambda</span><span class="p">,</span>
                       <span class="kt">double</span> <span class="n">obj</span><span class="p">,</span>
                       <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">c</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">objGrad</span><span class="p">,</span>
                       <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">jac</span><span class="p">,</span>
                       <span class="n">knitro</span><span class="o">::</span><span class="n">KTRSolver</span> <span class="o">*</span> <span class="n">solver</span><span class="p">)</span>
                       <span class="p">{</span>
      <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&gt;&gt; New point computed by Knitro: (&quot;</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;, &quot;</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Number FC evals= &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">solver</span><span class="o">-&gt;</span><span class="n">getNumberFCEvals</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Current feasError= &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">solver</span><span class="o">-&gt;</span><span class="n">getAbsFeasError</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>To use this callback, it should be passed to the <code class="docutils literal"><span class="pre">KTRProblem</span></code> object, before passing it
to the <code class="docutils literal"><span class="pre">KTRSolver</span></code> constructor. This is shown below. The problem solved is the same
example problem solved in previous sections, but the callback defined above is independent of the
problem solved.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;KTRSolver.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;ProblemQCQP.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;ExampleNewPointCallback.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;ExampleHelpers.h&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Create a problem instance.</span>
    <span class="n">ProblemQCQP</span> <span class="n">instance</span><span class="p">;</span>

    <span class="n">ExampleNewPointCallback</span> <span class="n">callback</span><span class="p">;</span>

    <span class="n">instance</span><span class="p">.</span><span class="n">setNewPointCallback</span><span class="p">(</span><span class="o">&amp;</span><span class="n">callback</span><span class="p">);</span>

    <span class="c1">// Create a solver</span>
    <span class="n">knitro</span><span class="o">::</span><span class="n">KTRSolver</span> <span class="n">solver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">instance</span><span class="p">,</span> <span class="n">KTR_GRADOPT_FORWARD</span><span class="p">,</span> <span class="n">KTR_HESSOPT_BFGS</span><span class="p">);</span>
    <span class="n">solver</span><span class="p">.</span><span class="n">useNewptCallback</span><span class="p">();</span>

    <span class="kt">int</span> <span class="n">solveStatus</span> <span class="o">=</span> <span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">();</span>

    <span class="n">printSolutionResults</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">solveStatus</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Calling this function gives the following output, showing additional information each time Knitro
finds a new estimate of the solution value:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>=======================================
          Commercial License
         Artelys Knitro 10.1.0
=======================================

Knitro performing finite-difference gradient computation with 1 thread.
Knitro presolve eliminated 0 variables and 0 constraints.

gradopt:              2
hessopt:              2
newpoint:             3
The problem is identified as a QCQP.
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linsolver from AUTO to 2.
Knitro performing finite-difference gradient computation with 1 thread.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                     3 (         3)
        bounded below:                   3 (         3)
        bounded above:                   0 (         0)
        bounded below and above:         0 (         0)
        fixed:                           0 (         0)
        free:                            0 (         0)
Number of constraints:                   2 (         2)
        linear equalities:               1 (         1)
        nonlinear equalities:            0 (         0)
        linear inequalities:             0 (         0)
        nonlinear inequalities:          1 (         1)
        range:                           0 (         0)
Number of nonzeros in Jacobian:          6 (         6)
Number of nonzeros in Hessian:           6 (         6)

  Iter      Objective      FeasError   OptError    ||Step||    CGits
--------  --------------  ----------  ----------  ----------  -------
       0    9.760000e+02   1.300e+01
&gt;&gt; New point computed by Knitro: (3.8794, 0.01, 3.69211
Number FC evals= 12
Current feasError= 1.01993
&gt;&gt; New point computed by Knitro: (3.86709, 5e-05, 3.71871
Number FC evals= 16
Current feasError= 0.968364
&gt;&gt; New point computed by Knitro: (3.21473, 2.5e-07, 4.34569
Number FC evals= 20
Current feasError= 0.137681
&gt;&gt; New point computed by Knitro: (0.0160737, 7.84537e-08, 7.99343
Number FC evals= 24
Current feasError= 0.0826197
&gt;&gt; New point computed by Knitro: (8.03683e-05, 7.8344e-08, 8.01171
Number FC evals= 28
Current feasError= 0.08261
&gt;&gt; New point computed by Knitro: (4.01842e-07, 7.25596e-08, 8.01118
Number FC evals= 32
Current feasError= 0.078234
&gt;&gt; New point computed by Knitro: (2.00921e-09, 4.9857e-10, 8.00003
Number FC evals= 36
Current feasError= 0.000202022
&gt;&gt; New point computed by Knitro: (9.71398e-10, 3.11247e-10, 8
Number FC evals= 40
Current feasError= 6.53699e-13
&gt;&gt; New point computed by Knitro: (1.65208e-11, 5.31022e-12, 8
Number FC evals= 44
Current feasError= 7.10543e-15
       9    9.360000e+02   7.105e-15   1.374e-07   1.976e-09        0

EXIT: Locally optimal solution found.

Final Statistics
----------------
Final objective value               =   9.36000000000340e+02
Final feasibility error (abs / rel) =   7.11e-15 / 5.47e-16
Final optimality error  (abs / rel) =   1.37e-07 / 8.59e-09
# of iterations                     =          9
# of CG iterations                  =          0
# of function evaluations           =         44
# of gradient evaluations           =          0
Total program time (secs)           =       0.010 (     0.016 CPU time)
Time spent in evaluations (secs)    =       0.010

===============================================================================

Knitro successful, feasibility violation = 7.10543e-15
KKT optimality violation = 1.37375e-07
</pre></div>
</div>
<p>Below we give an example of how the <code class="docutils literal"><span class="pre">KTRSolver::setIntVarStrategy()</span></code> callback can be used to reformulate an MINLP.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span>    <span class="cp">#include</span> <span class="cpf">&quot;KTRSolver.h&quot;</span><span class="cp"></span>
    <span class="cp">#include</span> <span class="cpf">&quot;ProblemMINLP.h&quot;</span><span class="cp"></span>
    <span class="cp">#include</span> <span class="cpf">&quot;ExampleHelpers.h&quot;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm">* An example of loading and solving a MINLP problem.</span>
<span class="cm">* Sets MIP parameters using parameter string names to choose the solution algorithm.</span>
<span class="cm">*/</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Create a problem instance.</span>
    <span class="n">ProblemMINLP</span> <span class="n">instance</span><span class="p">;</span>

    <span class="c1">// Create a solver</span>
    <span class="n">knitro</span><span class="o">::</span><span class="n">KTRSolver</span> <span class="n">solver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">instance</span><span class="p">);</span>

    <span class="n">solver</span><span class="p">.</span><span class="n">setParam</span><span class="p">(</span><span class="s">&quot;mip_method&quot;</span><span class="p">,</span> <span class="n">KTR_MIP_METHOD_BB</span><span class="p">);</span>
    <span class="n">solver</span><span class="p">.</span><span class="n">setParam</span><span class="p">(</span><span class="s">&quot;algorithm&quot;</span><span class="p">,</span> <span class="n">KTR_ALG_ACT_CG</span><span class="p">);</span>
    <span class="n">solver</span><span class="p">.</span><span class="n">setIntVarStrategy</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">KTR_MIP_INTVAR_STRATEGY_RELAX</span> <span class="p">);</span>
    <span class="n">solver</span><span class="p">.</span><span class="n">setIntVarStrategy</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">KTR_MIP_INTVAR_STRATEGY_RELAX</span> <span class="p">);</span>

    <span class="kt">int</span> <span class="n">solveStatus</span> <span class="o">=</span> <span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">();</span>

    <span class="n">printSolutionResults</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">solveStatus</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>These examples and examples of other callbacks can be found in the examples directory.</p>
</div>
<div class="section" id="changing-variable-bounds-in-the-object-oriented-interface">
<h2>Changing variable bounds in the object-oriented interface</h2>
<p>In both the object-oriented interface and the callable library, a problem can be
solved multiple times, but the only problem characteristics that can be changed
between solves are the variable bounds. The object-oriented interface differs
from the callable library in how variable bounds are changed. In the object-oriented
interface, variable bounds are set in a <code class="docutils literal"><span class="pre">KTRIProblem</span></code> object. When <code class="docutils literal"><span class="pre">KTRSolver::solve()</span></code>
is called to solve the problem, the variable bounds in the <code class="docutils literal"><span class="pre">KTRIProblem</span></code> object
are passed to the solver. the following example shows changing variable bounds between
calls to <code class="docutils literal"><span class="pre">KTRSolver::solve</span></code>.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="c1">// Create a problem instance.</span>
<span class="n">ProblemQCQP</span> <span class="n">instance</span><span class="p">;</span>

<span class="c1">// Create a solver</span>
<span class="n">knitro</span><span class="o">::</span><span class="n">KTRSolver</span> <span class="n">solver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">instance</span><span class="p">);</span>

<span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">();</span>

<span class="c1">// changing upper bounds makes previous optimal solution infeasible</span>
<span class="n">instance</span><span class="p">.</span><span class="n">setVarUpBnds</span><span class="p">(</span><span class="mf">7.0</span><span class="p">);</span>

<span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">();</span>
</pre></div>
</div>
<p>In this example, the problem characteristics (including variable bounds) are
initialized in the constructor of <code class="docutils literal"><span class="pre">ProblemQCQP</span></code>. After the first call of
<code class="docutils literal"><span class="pre">KTRSolver::solve()</span></code>, the variable bounds are changed in the problem instance
with the <code class="docutils literal"><span class="pre">KTRIProblem::setVarUpBnds()</span></code> function. This function sets all variable
bounds to 7. When <code class="docutils literal"><span class="pre">solver.solve()</span></code> is called for a second time, the solve
function calls <code class="docutils literal"><span class="pre">KTRIProblem::getVarLoBnds()</span></code> and <code class="docutils literal"><span class="pre">KTRIProblem::getVarUpBnds()</span></code>
and updates them. Note that although other <code class="docutils literal"><span class="pre">KTRIProblem</span></code> functions can be
called after the <code class="docutils literal"><span class="pre">KTRIProblem</span></code> object is passed to the <code class="docutils literal"><span class="pre">KTRSolver</span></code> constructor,
all changes except variable bounds are ignored. In addition to variable bounds,
Knitro parameters except for the gradient and Hessian evaluation type can be changed
between calls to <code class="docutils literal"><span class="pre">solve</span></code>.</p>
</div>
<div class="section" id="using-the-artelys-license-manager-with-the-object-oriented-interface">
<h2>Using the Artelys License Manager with the object-oriented interface</h2>
<p>The object-oriented interface can be used with either a standalone Knitro license
or a network Knitro license using the Artelys License Manager (ALM) and a license
server.</p>
<p>In order to use the ALM with the object-oriented interface, the license server
needs to be installed and the user machine (from which Knitro is run)
should be configured to find the license server. For information on installing
and configuring the ALM, see the Artelys License Manager User&#8217;s Manual.</p>
<p>To use the ALM with the object-oriented interface, a <code class="docutils literal"><span class="pre">ZLM</span></code> object needs to be
created and passed to a <code class="docutils literal"><span class="pre">KTRSolver</span></code> object constructor. When the ZLM object
is created, a network license will be checked out for use and unavailable
for other users until the <code class="docutils literal"><span class="pre">ZLM</span></code> object is destroyed.</p>
<p>An example usage is shown below. This example is identical to (and produces
the same output as) the other examples of the object-oriented interface,
except for the instantiation of the <code class="docutils literal"><span class="pre">ZLM</span></code> object and the <code class="docutils literal"><span class="pre">KTRSolver</span></code>
constructor that takes a pointer to the ZLM object.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">knitro</span><span class="o">::</span><span class="n">ZLM</span> <span class="n">zlm</span><span class="p">;</span>

<span class="c1">// Create a problem instance.</span>
<span class="n">ProblemQCQP</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">ProblemQCQP</span><span class="p">();</span>

<span class="c1">// Create a solver</span>
<span class="n">knitro</span><span class="o">::</span><span class="n">KTRSolver</span> <span class="n">solver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">zlm</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">instance</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">solveStatus</span> <span class="o">=</span> <span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">();</span>

<span class="n">printSolutionResults</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">solveStatus</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="callableLibraryReference.html" class="btn btn-neutral float-right" title="Callable library reference" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="knitroRreference.html" class="btn btn-neutral" title="Knitro / R reference" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Artelys.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'10.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>