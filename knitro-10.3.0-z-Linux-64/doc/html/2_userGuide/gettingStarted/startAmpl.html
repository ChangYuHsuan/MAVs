

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head><div class = "head"> </div>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started with AMPL &mdash; Artelys Knitro 10.3 User&#39;s Manual</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/Artelys_theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Artelys Knitro 10.3 User&#39;s Manual" href="../../index.html"/>
        <link rel="up" title="Getting started" href="../gettingStarted.html"/>
        <link rel="next" title="Getting started with MATLAB" href="startMatlab.html"/>
        <link rel="prev" title="Getting started" href="../gettingStarted.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Artelys Knitro User's Manual
          

          
          </a>

          
            
            
              <div class="version">
                10.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../1_introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../2_userGuide.html">User guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../gettingStarted.html">Getting started</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Getting started with AMPL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ampl-overview">AMPL overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-ampl-model">Example AMPL model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-solver">Running the solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-examples">Additional examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="startMatlab.html">Getting started with MATLAB</a></li>
<li class="toctree-l3"><a class="reference internal" href="startCallableLibrary.html">Getting started with the callable library</a></li>
<li class="toctree-l3"><a class="reference internal" href="startCPP.html">Getting started with the object-oriented interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="startR.html">Getting started with R</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../knitroOptions.html">Setting options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../derivatives.html">Derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multistart.html">Multistart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../minlp.html">Mixed-integer nonlinear programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../complementarity.html">Complementarity constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ktrlsq.html">Nonlinear Least-Squares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms.html">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feasibility.html">Feasibility and infeasibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parallelism.html">Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tuner.html">The Knitro-Tuner</a></li>
<li class="toctree-l2"><a class="reference internal" href="../termination.html">Termination criteria</a></li>
<li class="toctree-l2"><a class="reference internal" href="../obtainingInformation.html">Obtaining information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks.html">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../otherProgInterfaces.html">Other programmatic interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specialProblems.html">Special problem classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tips.html">Tips and tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../3_referenceManual.html">Reference manual</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Artelys Knitro User's Manual</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../2_userGuide.html">User guide</a> &raquo;</li>
      
          <li><a href="../gettingStarted.html">Getting started</a> &raquo;</li>
      
    <li>Getting started with AMPL</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started-with-ampl">
<span id="getstartampl"></span><h1>Getting started with AMPL</h1>
<div class="section" id="ampl-overview">
<h2>AMPL overview</h2>
<p>AMPL is a popular modeling language for optimization
that allows users to represent their optimization problems in a
user-friendly, readable, intuitive format.  This makes the job of
formulating and modeling a problem much simpler.  For a description of
AMPL, visit the AMPL web site at:</p>
<blockquote>
<div><a class="reference external" href="http://www.ampl.com/">http://www.ampl.com/</a></div></blockquote>
<p>We assume in the following that the user has successfully installed
AMPL.  The Knitro/AMPL executable file <strong class="program">knitroampl</strong> must be
in the current directory where AMPL is started, or in a directory included in
the PATH environment variable.</p>
<p>Inside of AMPL, to invoke the Knitro solver type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ampl</span><span class="p">:</span> <span class="n">option</span> <span class="n">solver</span> <span class="n">knitroampl</span><span class="p">;</span>
</pre></div>
</div>
<p>at the prompt. From then on, every time a <em>solve</em> command will be issued
in AMPL, the Knitro solver will be called.</p>
<p>A detailed list of Knitro options and settings available through AMPL
is provided in <a class="reference internal" href="../../3_referenceManual/knitroamplReference.html#knitroamplreference"><span class="std std-ref">Knitro / AMPL reference</span></a>.</p>
</div>
<div class="section" id="example-ampl-model">
<h2>Example AMPL model</h2>
<p>This section provides an example AMPL model and AMPL session that calls
Knitro to solve the problem. The AMPL model is provided with Knitro in a file
called <code class="file docutils literal"><span class="pre">testproblem.mod</span></code>, which is shown below.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span># Example problem formulated as an AMPL model used
# to demonstate using Knitro with AMPL.
# The problem has two local solutions:
#   the point (0,0,8) with objective 936.0, and
#   the point (7,0,0) with objective 951.0

# Define variables and enforce that they be non-negative.
var x{j in 1..3} &gt;= 0;

# Objective function to be minimized.
minimize obj:
        1000 - x[1]^2 - 2*x[2]^2 - x[3]^2 - x[1]*x[2] - x[1]*x[3];

# Equality constraint.
s.t. c1: 8*x[1] + 14*x[2] + 7*x[3] - 56 = 0;

# Inequality constraint.
s.t. c2: x[1]^2 + x[2]^2 + x[3]^2 -25 &gt;= 0;

data;

# Define initial point.
let x[1] := 2;
let x[2] := 2;
let x[3] := 2;
</pre></div>
</div>
<p>The above example displays the ease with which an optimization problem can be
expressed in the AMPL modeling language.</p>
</div>
<div class="section" id="running-the-solver">
<h2>Running the solver</h2>
<p>Below is the AMPL session used to solve this problem with Knitro.</p>
<div class="highlight-none"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>ampl: reset;
ampl: option solver knitroampl;
ampl: option knitro_options &quot;alg=2 bar_maxcrossit=2 outlev=1&quot;;
ampl: model testproblem.mod;
ampl: solve;
</pre></div>
</td></tr></table></div>
<p>The options passed to Knitro
on line 3 above mean &#8220;use the Interior/CG algorithm&#8221; (<code class="docutils literal"><span class="pre">alg=2</span></code>),
&#8220;refine the solution using the Active Set algorithm&#8221; (<code class="docutils literal"><span class="pre">bar_maxcrossit=2</span></code>)
and &#8220;limit the output from Knitro&#8221; (<code class="docutils literal"><span class="pre">outlev=1</span></code>).
The meaning of Knitro options and how to tweak them will be
explained later, the point here is only to show
how easy it is to control Knitro&#8217;s behavior in AMPL by using <em>knitro_options</em>.
Upon receiving the <code class="docutils literal"><span class="pre">solve</span></code> command, AMPL produces the following output.</p>
<div class="highlight-none"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre></div></td><td class="code"><div class="highlight"><pre><span></span>alg=2
bar_maxcrossit=2
outlev=1

=======================================
          Commercial License
         Artelys Knitro 10.0.0
=======================================

Knitro presolve eliminated 0 variables and 0 constraints.

algorithm:            2
bar_maxcrossit:       2
datacheck:            0
hessian_no_f:         1
outlev:               1
par_concurrent_evals: 0
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 1.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linsolver from AUTO to 4.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                     3 (         3)
    bounded below:                       3 (         3)
    bounded above:                       0 (         0)
    bounded below and above:             0 (         0)
    fixed:                               0 (         0)
    free:                                0 (         0)
Number of constraints:                   2 (         2)
    linear equalities:                   1 (         1)
    nonlinear equalities:                0 (         0)
    linear inequalities:                 0 (         0)
    nonlinear inequalities:              1 (         1)
    range:                               0 (         0)
Number of nonzeros in Jacobian:          6 (         6)
Number of nonzeros in Hessian:           5 (         5)

EXIT: Locally optimal solution found.

Final Statistics
----------------
Final objective value               =   9.36000000000000e+02
Final feasibility error (abs / rel) =   0.00e+00 / 0.00e+00
Final optimality error  (abs / rel) =   0.00e+00 / 0.00e+00
# of iterations                     =          7
# of CG iterations                  =          8
# of function evaluations           =          9
# of gradient evaluations           =          9
# of Hessian evaluations            =          7
Total program time (secs)           =       0.00115 (     0.001 CPU time)
Time spent in evaluations (secs)    =       0.00004

===============================================================================

Knitro 10.0.0: Locally optimal or satisfactory solution.
objective 936; feasibility error 0
7 iterations; 9 function evaluations
ampl:
</pre></div>
</td></tr></table></div>
<p>The output from Knitro tells us that the algorithm terminated
successfully (&#8220;Exit: Locally optimal solution found.&#8221; on line 44),
that the objective value at the optimum found is about 936.0 (line 48) and that
it took Knitro about 1 millisecond to solve the problem (line 56).
More information is printed, which you do not need to understand for now;
the precise meaning of the Knitro output will be discussed
in <a class="reference internal" href="../obtainingInformation.html#sec-knitrooutput"><span class="std std-ref">Obtaining information</span></a>.</p>
<p>After solving an optimization problem, one is typically interested
in information about the solution (other than simply the objective value,
which we already found by looking at the Knitro log). For instance,
one may be interested in printing the value of the variables x; the AMPL
<em>display</em> command does just that:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ampl</span><span class="p">:</span> <span class="n">display</span> <span class="n">x</span><span class="p">;</span>
<span class="n">x</span> <span class="p">[</span><span class="o">*</span><span class="p">]</span> <span class="p">:</span><span class="o">=</span>
<span class="mi">1</span>  <span class="mi">0</span>
<span class="mi">2</span>  <span class="mi">0</span>
<span class="mi">3</span>  <span class="mi">8</span>
<span class="p">;</span>
</pre></div>
</div>
<p>More information about AMPL display commands can be found in the AMPL manual.</p>
</div>
<div class="section" id="additional-examples">
<h2>Additional examples</h2>
<p>More examples of using AMPL for nonlinear programming can be found in
Chapter 18 of the AMPL book, see the <a class="reference internal" href="../bibliography.html#bibliography"><span class="std std-ref">Bibliography</span></a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="startMatlab.html" class="btn btn-neutral float-right" title="Getting started with MATLAB" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../gettingStarted.html" class="btn btn-neutral" title="Getting started" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Artelys.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'10.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>